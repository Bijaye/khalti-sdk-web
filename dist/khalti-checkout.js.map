{"version":3,"sources":["webpack:///webpack/bootstrap df437bc2c80c3ec32306","webpack:///./src/index.js","webpack:///./node_modules/validatex/lib/index.js"],"names":["filter","obj","predicate","Object","keys","map","key","forEach","data","iteratee","Array","isArray","isInt","value","isNaN","parseInt","Number","clone","JSON","parse","stringify","eventHandlerSchema","onSuccess","required","isFunction","onError","configSchema","publicKey","returnUrl","productUrl","productIdentity","productName","eventHandler","amount","merchantData","isObject","KhaltiCheckout","constructor","config","_config","_widget","attachWidget","listenToWidget","window","addEventListener","e","handler","realm","payload","msgWidget","contentWindow","postMessage","handle_msg_widgetInit","widgetInit","paymentInfo","validateConfig","errors","validate","Error","handle_msg_walletPaymentVerification","hide","handle_msg_widgetError","error","errorHandler","disableParentScrollbar","parentOverflowValue","document","body","style","overflowY","enableParentScrollbar","show","updates","source","assign","display","handle_msg_hide","widget","createElement","setAttribute","position","top","left","width","height","innerHeight","zIndex","appendChild","postAtURL","khaltiEbankingFormId","ebankingForm","removeChild","form","url","input","submit","defineProperty","exports","_typeof","Symbol","iterator","SkipValidation","message","name","validateSingle","validators","multipleErrors","all","i","length","push","replace","err","noError","prop","hasOwnProperty","undefined","flag","isNullLike","isNumber","isString","prototype","toString","call","_length","str","isEmail","pattern","test","equalsTo","minLength","maxLength","isBoolean","within","list","odds","index","indexOf","excludes","regex"],"mappings":"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","file":"khalti-checkout.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap df437bc2c80c3ec32306","import {required, validate, isFunction, isObject} from \"validatex\";\n\nconst filter = function (obj, predicate) {\n\treturn Object.keys(obj).map(key => obj[key]).filter(predicate);\n}\n\nconst forEach = function (data, iteratee) {\n\tif (Array.isArray(data)) {\n\t\treturn data.forEach(iteratee);\n\t}\n\treturn Object.keys(data).map(key => iteratee(data[key], key));\n}\n\nconst isInt = function (value) {\n  return !isNaN(value) && parseInt(Number(value)) == value && !isNaN(parseInt(value, 10));\n}\n\nconst clone = function (data) {\n\tif (!data) return data;\n\treturn JSON.parse(JSON.stringify(data));\n}\n\nconst eventHandlerSchema = {\n\tonSuccess: [required(true), isFunction()],\n\tonError: [required(false), isFunction()]\n}\n\nconst configSchema = {\n\tpublicKey: required(true),\n\treturnUrl: required(true),\n\tproductUrl: required(true),\n\tproductIdentity: required(true),\n\tproductName: required(true),\n\teventHandler: required(true),\n\tamount: required(true),\n\tmerchantData: [required(false), isObject()]\n}\n\nexport class KhaltiCheckout {\n\tconstructor (config) {\n\t\tthis._config = config;\n\t\tthis._widget = this.attachWidget();\n\t\tthis.listenToWidget();\n\t}\n\n\tlistenToWidget () {\n\t\twindow.addEventListener(\"message\", (e) => {\n\t\t\tconst handler = `handle_msg_${e.data.realm}`;\n\t\t\tthis[handler](e.data.payload);\n\t\t}, false);\n\t}\n\n\tmsgWidget(realm, payload) {\n\t\tpayload = clone(payload);\n\t\tthis._widget.contentWindow.postMessage({realm, payload}, \"*\");\n\t}\n\n\thandle_msg_widgetInit () {\n\t\tthis.widgetInit();\n\t}\n\n\twidgetInit () {\n\t\tlet paymentInfo = clone(this._config);\n\t\tdelete paymentInfo.eventHandler;\n\t\tthis.msgWidget(\"paymentInfo\", paymentInfo);\n\t}\n\n\tvalidateConfig () {\n\t\tlet errors = validate(this._config, configSchema);\n\t\tif (errors) {\n\t\t\tthrow new Error(JSON.stringify(errors));\n\t\t}\n\t\telse {\n\t\t\tlet errors = validate(this._config.eventHandler, eventHandlerSchema);\n\t\t\tif (errors) {\n\t\t\t\tthrow new Error(JSON.stringify({eventHandler: errors}))\n\t\t\t}\n\t\t}\n\t}\n\n\thandle_msg_walletPaymentVerification (paymentInfo) {\n\t\tthis._config.eventHandler.onSuccess(paymentInfo);\n\t\tthis.hide();\n\t}\n\n\thandle_msg_widgetError (error) {\n\t\tlet errorHandler = this._config.eventHandler.onError;\n\t\terrorHandler && errorHandler(error);\n\t}\n\n\tdisableParentScrollbar () {\n\t\tthis.parentOverflowValue = window.document.body.style.overflowY;\n\t\twindow.document.body.style.overflowY = \"hidden\";\n\t}\n\n\tenableParentScrollbar () {\n\t\twindow.document.body.style.overflowY = this.parentOverflowValue;\n\t\tthis.parentOverflowValue = null;\n\t}\n\n\tshow (updates) {\n\t\tthis._config.source = \"web\";\n\t\tObject.assign(this._config, updates);\n\t\tthis.validateConfig();\n\t\tthis.disableParentScrollbar();\n\t\tthis._widget.style.display = \"block\";\n\t\tthis.widgetInit();\n\t}\n\n\thandle_msg_hide () {\n\t\tthis.hide();\n\t}\n\n\thide () {\n\t\tthis.enableParentScrollbar();\n\t\tthis._widget.style.display = \"none\";\n\t}\n\n\tattachWidget () {\n\t\tvar widget = window.document.createElement(\"iframe\");\n\t\twidget.setAttribute(\"id\", \"khalti-widget\");\n\t\twidget.style.position = \"fixed\";\n\t\twidget.style.display = \"none\";\n\t\twidget.style.top = \"0\";\n\t\twidget.style.left = \"0\";\n\t\twidget.width = \"100%\";\n\t\twidget.height = window.innerHeight + \"px\";\n\t\twidget.setAttribute(\"src\", __WIDGET_URL__);\n\t\twidget.style.zIndex = 999999999;\n\t\twidget.setAttribute(\"frameborder\", 0);\n\t\twidget.setAttribute(\"allowtransparency\", true);\n\n\t\twindow.document.body.appendChild(widget);\n\n\t\treturn widget;\n\t}\n\n\tpostAtURL (payload) {\n\t\tlet khaltiEbankingFormId = \"khalti-ebanking-form\";\n\t\t// remove earlier form if exists\n\t\tif (this.ebankingForm) window.document.body.removeChild(this.ebankingForm);\n\n\t\t// create new form\n\t\tvar form = window.document.createElement(\"form\");\n\t\tform.setAttribute(\"id\", khaltiEbankingFormId);\n\t\tform.setAttribute(\"action\", payload.url);\n\t\tform.setAttribute(\"target\", \"_blank\");\n\t\tform.setAttribute(\"method\", \"POST\");\n\t\tform.style.display = \"none\";\n\n\t\t// attach inputs to form\n\t\tforEach(payload.paymentInfo, (value, key) => {\n\t\t\tlet input = window.document.createElement(\"input\");\n\t\t\tinput.setAttribute(\"name\", key);\n\t\t\tinput.value = value;\n\t\t\tform.appendChild(input);\n\t\t});\n\n\t\t// attach form to body\n\t\twindow.document.body.appendChild(form);\n\t\tthis.ebankingForm = form;\n\n\t\tform.submit();\n\t}\n}\n\n// window.KhaltiCheckout = KhaltiCheckout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar SkipValidation = exports.SkipValidation = function SkipValidation(message) {\n\tthis.name = \"SkipValidation\";\n\tthis.message = message;\n};\n\nvar validateSingle = exports.validateSingle = function validateSingle(data, validators, multipleErrors, all, key) {\n\tvar errors = [];\n\n\tif (typeof validators === \"function\") {\n\t\tvalidators = [validators];\n\t}\n\n\tfor (var i = 0; i < validators.length; i++) {\n\t\ttry {\n\t\t\tvar error = validators[i](data, all);\n\t\t\tif (typeof error === \"string\") {\n\t\t\t\terrors.push(error.replace(\"{value}\", data).replace(\"{key}\", key));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (err instanceof SkipValidation) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (multipleErrors === true) return errors;\n\n\tif (errors.length > 0) return errors[0];\n};\n\nvar validate = exports.validate = function validate(data, validators, multipleErrors) {\n\tif (!validators) return;\n\n\tvar errors = {};\n\tvar noError = true;\n\n\tif ((typeof validators === \"undefined\" ? \"undefined\" : _typeof(validators)) === \"object\" && !validators.length) {\n\t\tfor (var prop in validators) {\n\t\t\tif (validators.hasOwnProperty(prop)) {\n\t\t\t\tvar error = validateSingle(data[prop], validators[prop], multipleErrors, data, prop);\n\n\t\t\t\tif (error !== undefined) {\n\t\t\t\t\tnoError = false;\n\t\t\t\t}\n\n\t\t\t\terrors[prop] = error;\n\t\t\t}\n\t\t}\n\n\t\treturn noError ? undefined : errors;\n\t}\n\n\terrors = validateSingle(data, validators, multipleErrors);\n\treturn errors;\n};\n\nvar required = exports.required = function required(flag, error) {\n\tfunction isNullLike(value) {\n\t\treturn value === undefined || value === \"\" || value === null;\n\t}\n\n\treturn function (value) {\n\t\tif (flag && isNullLike(value)) {\n\t\t\treturn error || \"This field is required.\";\n\t\t} else if (!flag && isNullLike(value)) {\n\t\t\t// skip rest of the validators\n\t\t\tthrow new SkipValidation();\n\t\t}\n\t};\n};\n\nvar isNumber = exports.isNumber = function isNumber(error) {\n\treturn function (value) {\n\t\tif (typeof value !== \"number\" || isNaN(value)) {\n\t\t\treturn error || \"'{value}' is not a valid number.\";\n\t\t}\n\t};\n};\n\nvar isString = exports.isString = function isString(error) {\n\treturn function (value) {\n\t\tif (typeof value !== \"string\") {\n\t\t\treturn error || \"'{value}' is not a valid string.\";\n\t\t}\n\t};\n};\n\nvar isFunction = exports.isFunction = function isFunction(error) {\n\treturn function (value) {\n\t\tif (typeof value !== \"function\") {\n\t\t\treturn error || \"Expected a function.\";\n\t\t}\n\t};\n};\n\nvar isObject = exports.isObject = function isObject(error) {\n\treturn function (value) {\n\t\tif (value !== Object(value)) {\n\t\t\treturn error || \"Expected an object.\";\n\t\t}\n\t};\n};\n\nvar isArray = exports.isArray = function isArray(error) {\n\treturn function (value) {\n\t\tif (Object.prototype.toString.call(value) !== \"[object Array]\") {\n\t\t\treturn error || \"Expected an array.\";\n\t\t}\n\t};\n};\n\nvar length = exports.length = function length(_length, error) {\n\treturn function (value) {\n\t\tvar str = value + \"\";\n\t\tif (str.length !== _length) {\n\t\t\treturn error || \"It must be \" + _length + \" characters long.\";\n\t\t}\n\t};\n};\n\nvar isEmail = exports.isEmail = function isEmail(error) {\n\treturn function (value) {\n\t\tvar pattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tif (!pattern.test(value)) {\n\t\t\treturn error || \"Invalid email id.\";\n\t\t}\n\t};\n};\n\nvar equalsTo = exports.equalsTo = function equalsTo(key, error) {\n\treturn function (value, all) {\n\t\tif (value !== all[key]) {\n\t\t\treturn error || \"'{key}' and '\" + key + \"' do not match.\";\n\t\t}\n\t};\n};\n\nvar minLength = exports.minLength = function minLength(length, error) {\n\treturn function (value) {\n\t\tvar str = value + \"\";\n\t\tif (str.length < length) {\n\t\t\treturn error || \"It must be at least \" + length + \" characters long.\";\n\t\t}\n\t};\n};\n\nvar maxLength = exports.maxLength = function maxLength(length, error) {\n\treturn function (value) {\n\t\tvar str = value + \"\";\n\t\tif (str.length > length) {\n\t\t\treturn error || \"It must be at most \" + length + \" characters long.\";\n\t\t}\n\t};\n};\n\nvar isBoolean = exports.isBoolean = function isBoolean(error) {\n\treturn function (value) {\n\t\tif (value !== true && value !== false) {\n\t\t\treturn error || \"Invalid boolean value.\";\n\t\t}\n\t};\n};\n\nvar within = exports.within = function within(list, error) {\n\treturn function (value) {\n\t\tif (!(value instanceof Array)) {\n\t\t\tvalue = [value];\n\t\t}\n\n\t\tvar odds = [];\n\n\t\tfor (var index = 0; index < value.length; index++) {\n\t\t\tif (list.indexOf(value[index]) === -1) {\n\t\t\t\todds.push(value[index]);\n\t\t\t}\n\t\t}\n\n\t\tif (odds.length > 0) {\n\t\t\treturn error || \"[\" + odds + \"] do not fall under the allowed list.\";\n\t\t}\n\t};\n};\n\nvar excludes = exports.excludes = function excludes(list, error) {\n\treturn function (value) {\n\t\tif (!(value instanceof Array)) {\n\t\t\tvalue = [value];\n\t\t}\n\n\t\tvar odds = [];\n\n\t\tfor (var index = 0; index < value.length; index++) {\n\t\t\tif (list.indexOf(value[index]) !== -1) {\n\t\t\t\todds.push(value[index]);\n\t\t\t}\n\t\t}\n\n\t\tif (odds.length > 0) {\n\t\t\treturn error || \"[\" + odds + \"] fall under restricted values.\";\n\t\t}\n\t};\n};\n\nvar pattern = exports.pattern = function pattern(regex, error) {\n\treturn function (value) {\n\t\tif (!regex.test(value)) {\n\t\t\treturn error || \"'{value}' does not match with the pattern.\";\n\t\t}\n\t};\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/validatex/lib/index.js"],"sourceRoot":""}